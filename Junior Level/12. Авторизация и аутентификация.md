# –û–±—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: SSO (Single Sign-On)

>[!note] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:**¬†
>**SSO** ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Ç–æ–∫–æ–ª, –∞¬†**–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω**¬†(—Å—Ö–µ–º–∞ —Ä–µ—à–µ–Ω–∏—è), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–æ–π—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –æ–¥–∏–Ω —Ä–∞–∑ –∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å–≤—è–∑–∞–Ω–Ω—ã–º, –Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º –∏ —Å–∏—Å—Ç–µ–º–∞–º –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–≤–æ–¥–∞ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

**–ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:**¬†–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ "–ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–π" (Identity Provider, IdP). –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ("–ø–æ—Å—Ç–∞–≤—â–∏–∫ —É—Å–ª—É–≥", Service Provider, SP), –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø, –¥–æ–≤–µ—Ä—è–µ—Ç —Ñ–∞–∫—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Ç —ç—Ç–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞.

**–ü–ª—é—Å—ã:**

>- **–£–¥–æ–±—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**¬†–û–¥–∏–Ω –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Å–µ–≥–æ.
>- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**¬†–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á—ë—Ç–Ω—ã–º–∏ –∑–∞–ø–∏—Å—è–º–∏, –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –ø–∞—Ä–æ–ª–µ–π (—Å–ª–æ–∂–Ω–æ—Å—Ç—å, —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è) –∏ MFA.
>- **–°–Ω–∏–∂–µ–Ω–∏–µ —Ä–∏—Å–∫–æ–≤:**¬†–£–ø—Ä–æ—â–∞–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–∑—ã–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–¥–Ω—É —É—á—ë—Ç–Ω—É—é –∑–∞–ø–∏—Å—å).
>- **–°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç:**¬†–ú–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–∞ —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª–µ–π.

**–ú–∏–Ω—É—Å—ã:**

>- **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞:**¬†–ï—Å–ª–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–π –ø–∞–¥–∞–µ—Ç, –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.
>- **–í—ã—Å–æ–∫–∞—è —Ü–µ–ª—å –¥–ª—è –∞—Ç–∞–∫–∏:**¬†–ö–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è –æ–¥–Ω–æ–π —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –¥–∞—ë—Ç –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫—É –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ä–µ—Å—É—Ä—Å–∞–º, –ø–æ—ç—Ç–æ–º—É –∫—Ä–∞–π–Ω–µ –≤–∞–∂–Ω–æ –∑–∞—â–∏—â–∞—Ç—å –µ—ë –ø–æ –≤—ã—Å—à–µ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π MFA).

---

# 1. SAML (Security Assertion Markup Language)

>[!note] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:**¬†
>–≠—Ç–æ –æ—Ç–∫—Ä—ã—Ç—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ¬†**XML**¬†–¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–π (IdP) –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º —É—Å–ª—É–≥ (SP).

**–ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:**¬†–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Salesforce), –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π IdP (–Ω–∞–ø—Ä–∏–º–µ—Ä, Okta). –ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö IdP –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π XML-–¥–æ–∫—É–º–µ–Ω—Ç ("SAML Assertion"), –∫–æ—Ç–æ—Ä—ã–π –±—Ä–∞—É–∑–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–¥–∞—ë—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å—å –∏ "—É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ" (assertion) –∏ –ø—É—Å–∫–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ü–ª—é—Å—ã:**

>- **–ó—Ä–µ–ª–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å:**¬†–°—Ç–∞–Ω–¥–∞—Ä—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–∞–≤–Ω–æ, —Ö–æ—Ä–æ—à–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω.
>- **–ë–æ–≥–∞—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**¬†–ü–µ—Ä–µ–¥–∞—á–∞ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏.
>- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**¬†–°–∏–ª—å–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–¥–ø–∏—Å–µ–π XML, –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è (HTTPS).

**–ú–∏–Ω—É—Å—ã:**

>- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:**¬†XML –∫–∞–Ω–æ–Ω–∏–∑–∞—Ü–∏—è, —Å–ª–æ–∂–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∏ ‚Äî —ç—Ç–æ –¥–µ–ª–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏ –æ—Ç–ª–∞–¥–∫—É —Ç—Ä—É–¥–Ω–æ–π.
>- **"–¢—è–∂–µ–ª–æ–≤–µ—Å–Ω–æ—Å—Ç—å":**¬†SAML-–æ—Ç–≤–µ—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –±–æ–ª—å—à–∏–º–∏, –∏—Ö –Ω–µ—É–¥–æ–±–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ SPA-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.
>- **–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –≤–µ–±:**¬†–°–ª–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –∏–ª–∏ API-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏.

---

# 2. üîê–ß—Ç–æ —Ç–∞–∫–æ–µ OAuth?

>[!note] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:**¬†
>**OAuth 2.0 ‚Äî —ç—Ç–æ¬†–ø—Ä–æ—Ç–æ–∫–æ–ª –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞. –≠—Ç–æ¬†—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**, –∞ –Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ï–≥–æ —Ü–µ–ª—å ‚Äî –ø–æ–∑–≤–æ–ª–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –ø–æ–ª—É—á–∞—Ç—å¬†**–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø**¬†–∫ —Ä–µ—Å—É—Ä—Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –¥—Ä—É–≥–æ–º —Å–µ—Ä–≤–∏—Å–µ, –±–µ–∑ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:**¬†–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä ‚Äî "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Facebook". –í—ã –¥–∞—ë—Ç–µ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, Spotify) —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É —Å–ø–∏—Å–∫—É –¥—Ä—É–∑–µ–π –≤ Facebook –∏–ª–∏ –∫ –≤–∞—à–µ–º—É –ø—Ä–æ—Ñ–∏–ª—é. OAuth 2.0 —É–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ Facebook (—Ä–µ—Å—É—Ä—Å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä), –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ç–µ–º –≤—ã–¥–∞—ë—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é Spotify¬†**—Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ (Access Token)**. Spotify –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –¥–ª—è –≤—ã–∑–æ–≤–∞ API Facebook –æ—Ç –≤–∞—à–µ–≥–æ –∏–º–µ–Ω–∏.

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**
>
> –•–æ—Ç—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è OAuth 2.0, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∞–π—Ç—ã –≤—Å—ë –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É—Å—Ç–∞—Ä–µ–≤—à—É—é –≤–µ—Ä—Å–∏—é 1a. OAuth 2.0 –±—ã–ª–∞ –Ω–∞–ø–∏—Å–∞–Ω–∞ —Å –Ω—É–ª—è, –∞ –Ω–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ –±–∞–∑–µ OAuth 1.0. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –æ–Ω–∏ —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Ç–µ—Ä–º–∏–Ω ¬´OAuth¬ª –≤ —ç—Ç–∏—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∫ OAuth 2.0.


>[!note]
>**OAuth 1.0** ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ API –±–µ–∑ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –ø–∞—Ä–æ–ª–µ–π.
>
>**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Ç–ª–∏—á–∏—è:**
>1. –°–ª–æ–∂–Ω–∞—è –ø–æ–¥–ø–∏—Å—å –∑–∞–ø—Ä–æ—Å–æ–≤ (HMAC-SHA1, RSA-SHA1)
>2. –¢–æ–∫–µ–Ω—ã –¥–æ—Å—Ç—É–ø–∞ + —Å–µ–∫—Ä–µ—Ç—ã —Ç–æ–∫–µ–Ω–æ–≤
>3. –ù–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ refresh tokens
>4. –¢—Ä–µ–±—É–µ—Ç –ø–æ–¥–ø–∏—Å–∏ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç OAuth 2.0?

OAuth 2.0 –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∫–∞–∫ —Å–ø–æ—Å–æ–± —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –¥–∞–Ω–Ω—ã–º –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏. –û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–µ—Ä–∏—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –º–µ–∂–¥—É —Ç—Ä–µ–º—è —Å—Ç–æ—Ä–æ–Ω–∞–º–∏: –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —Ä–µ—Å—É—Ä—Å–∞ –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º OAuth.

- **–ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**¬†‚Äî —Å–∞–π—Ç –∏–ª–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **–í–ª–∞–¥–µ–ª–µ—Ü —Ä–µ—Å—É—Ä—Å–∞**¬†‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∫ –¥–∞–Ω–Ω—ã–º –∫–æ—Ç–æ—Ä–æ–≥–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø.
- **–ü—Ä–æ–≤–∞–π–¥–µ—Ä —É—Å–ª—É–≥ OAuth**¬†‚Äî —Å–∞–π—Ç –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –¥–æ—Å—Ç—É–ø –∫ –Ω–∏–º. –û–Ω–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç OAuth, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–∞–∫ —Å —Å–µ—Ä–≤–µ—Ä–æ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç–∞–∫ –∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º —Ä–µ—Å—É—Ä—Å–æ–≤.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∞–º–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ OAuth. –û–Ω–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã –∫–∞–∫ OAuth ¬´–ø–æ—Ç–æ–∫–∏ (flows)¬ª –∏–ª–∏ ¬´[[#–¢–∏–ø—ã –≥—Ä–∞–Ω—Ç–æ–≤ (grant types) OAuth|grant types]]¬ª. –°–∞–º—ã–º–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–º–∏ —è–≤–ª—è—é—Ç—Å—è —Ç–∏–ø—ã –≥—Ä–∞–Ω—Ç–æ–≤: ¬´authorization code¬ª –∏ ¬´implicit¬ª. –í —à–∏—Ä–æ–∫–æ–º —Å–º—ã—Å–ª–µ, –æ–±–∞ —Ç–∏–ø–∞ –≥—Ä–∞–Ω—Ç–æ–≤ –≤–∫–ª—é—á–∞—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã:

1. –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤—É –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —É–∫–∞–∑—ã–≤–∞—è, –∫–∞–∫–æ–π —Ç–∏–ø –≥—Ä–∞–Ω—Ç–∞ –æ–Ω —Ö–æ—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –¥–æ—Å—Ç—É–ø.
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –≤–æ–π—Ç–∏ –≤ —Å–µ—Ä–≤–∏—Å OAuth –∏ —è–≤–Ω–æ –¥–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø.
3. –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–π, —á—Ç–æ —É –Ω–µ–≥–æ –µ—Å—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–º –¥–∞–Ω–Ω—ã–º. –¢–æ—á–Ω—ã–π —Å–ø–æ—Å–æ–± —ç—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –≥—Ä–∞–Ω—Ç–∞.
4. –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API-–∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∞—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ—Å—É—Ä—Å–æ–≤.

---
## OAuth scopes

–î–ª—è –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ –≥—Ä–∞–Ω—Ç–∞ OAuth –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å, –∫ –∫–∞–∫–∏–º –¥–∞–Ω–Ω—ã–º –æ–Ω–æ —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∏ –∫–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å. –û–Ω –¥–µ–ª–∞–µ—Ç —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `scope` –∑–∞–ø—Ä–æ—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–µ—Ä–≤–∏—Å—É OAuth.¬†

–ë–∞–∑–æ–≤–æ, OAuth –æ–±–ª–∞—Å—Ç–∏ (scopes), –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–æ—Å—Ç—É–ø, —É–Ω–∏–∫–∞–ª—å–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ OAuth. –ü–æ—Å–∫–æ–ª—å–∫—É –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞, —Ñ–æ—Ä–º–∞—Ç –º–æ–∂–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–∞–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π URI –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–∞–∑–≤–∞–Ω–∏—è –æ–±–ª–∞—Å—Ç–∏, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ REST API endpoint. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–º—è –æ–±–ª–∞—Å—Ç–∏ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–¥–Ω—É –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–æ—Ä–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ OAuth:

```uri
scope=contacts
scope=contacts.read
scope=contact-list-r
scope=https://oauth-authorization-server.com/auth/scopes/user/contacts.readonly
```

–û–¥–Ω–∞–∫–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ OAuth –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ OpenID Connect. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±–ª–∞—Å—Ç—å `openid profile` –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –¥–æ—Å—Ç—É–ø –∫ –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É –Ω–∞–±–æ—Ä—É –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, —Ç–∞–∫–æ–π –∫–∞–∫ –µ–≥–æ –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã, –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ¬†[[#2.1. OpenID Connect|OpenID Connect]] –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø–æ–∑–∂–µ.¬†

---

## –¢–∏–ø—ã –≥—Ä–∞–Ω—Ç–æ–≤ (grant types) OAuth

---

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–∏–ø –≥—Ä–∞–Ω—Ç–∞ OAuth?

–¢–∏–ø –≥—Ä–∞–Ω—Ç–∞ OAuth –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ—á–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ OAuth. –¢–∏–ø –≥—Ä–∞–Ω—Ç–∞ —Ç–∞–∫–∂–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–æ, –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å —Å–µ—Ä–≤–∏—Å–æ–º OAuth –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ, –≤–∫–ª—é—á–∞—è –ø–µ—Ä–µ–¥–∞—á—É —Å–∞–º–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞. –ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ —Ç–∏–ø—ã –≥—Ä–∞–Ω—Ç–æ–≤ —á–∞—Å—Ç–æ –Ω–∞–∑—ã–≤–∞—é—Ç ¬´–ø–æ—Ç–æ–∫–∞–º–∏ OAuth¬ª.

–°–µ—Ä–≤–∏—Å OAuth –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –≥—Ä–∞–Ω—Ç–∞, –ø—Ä–µ–∂–¥–µ —á–µ–º –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–º–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–æ—Ç–æ–∫. –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π —Ç–∏–ø –≥—Ä–∞–Ω—Ç–∞ –æ–Ω–æ —Ö–æ—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º–æ–º —Å–µ—Ä–≤–∏—Å—É OAuth.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≥—Ä–∞–Ω—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∏–º–µ–µ—Ç —Ä–∞–∑–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ú—ã —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è –Ω–∞ —Ç–∏–ø–∞—Ö **¬´authorization code¬ª** –∏ **¬´implicit¬ª**, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —Å–∞–º—ã–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ.

---

## –¢–∏–ø –≥—Ä–∞–Ω—Ç–∞: Authorization code

–ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —Å–µ—Ä–≤–∏—Å OAuth —Å–Ω–∞—á–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –æ–±–º–µ–Ω–∞ —Å–µ—Ä–∏–µ–π –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç —ç—Ç–æ—Ç –ø–æ—Ç–æ–∫. 
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç, —Å–æ–≥–ª–∞—Å–µ–Ω –ª–∏ –æ–Ω —Å –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º. 
2. –ï—Å–ª–∏ –æ–Ω —Å–æ–≥–ª–∞—Å–µ–Ω, –∑–∞—è–≤–∫–µ –∫–ª–∏–µ–Ω—Ç–∞ –≤—ã–¥–∞–µ—Ç—Å—è ¬´–∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏¬ª. 
3. –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞—Ç–µ–º –æ–±–º–µ–Ω–∏–≤–∞–µ—Ç—Å—è —ç—Ç–∏–º –∫–æ–¥–æ–º —Å —Å–µ—Ä–≤–∏—Å–æ–º OAuth, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å ¬´—Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞¬ª, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤—ã–∑–æ–≤–æ–≤ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

–í—Å—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –æ–±–º–µ–Ω–∞ –∫–æ–¥–æ–º/—Ç–æ–∫–µ–Ω–æ–º, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º—É –æ–±—Ä–∞—Ç–Ω–æ–º—É –∫–∞–Ω–∞–ª—É –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –Ω–µ–≤–∏–¥–∏–º–∞ –¥–ª—è –∫–æ–Ω–µ—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–æ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–∞–Ω–∞–ª —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–≤—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Å–ª—É–∂–±–µ OAuth (—Ç–æ –µ—Å—Ç—å –∑–∞–¥–æ–ª–≥–æ –¥–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è). –í —ç—Ç–æ –≤—Ä–µ–º—è OAuth —Å–µ—Ä–≤–µ—Ä–æ–º –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è `client_secret` –∏ `client_id`, –∫–æ—Ç–æ—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É.

> **–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ OAuth:**
> - **`client_secret`** –∏ **`client_id`** —Ö—Ä–∞–Ω—è—Ç—Å—è –∏ —É –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —É OAuth —Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É –∫–∞–Ω–∞–ª—É;
> - `client_id` —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∞ `client_secret` ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

–ü–æ—Å–∫–æ–ª—å–∫—É –Ω–∞–∏–±–æ–ª–µ–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è) –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä, —ç—Ç–æ—Ç —Ç–∏–ø –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤, –ø–æ–∂–∞–ª—É–π, —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–º. –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –∏–¥–µ–∞–ª–µ –¥–æ–ª–∂–Ω—ã –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ç–∏–ø –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤, –µ—Å–ª–∏ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ.

![[OAuth_authorization_grant_type.png]]

---

#### 1. –ó–∞–ø—Ä–æ—Å –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

–ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É `/authorization` —Å–µ—Ä–≤–∏—Å–∞ OAuth —Å –ø—Ä–æ—Å—å–±–æ–π –ø–æ–ª—É—á–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫ –º–æ–∂–µ—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è —É —Ä–∞–∑–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ ‚Äî –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ PortSwigger –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É `/auth` –¥–ª—è —ç—Ç–æ–π —Ü–µ–ª–∏. –û–¥–Ω–∞–∫–æ –≤—ã –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–º –≤ –∑–∞–ø—Ä–æ—Å–µ.¬†

```http
GET /authorization?client_id=12345&redirect_uri=https://client-app.com/callback&response_type=code&scope=openid%20profile&state=ae13d489bd00e3c24 HTTP/1.1 
Host: oauth-authorization-server.com
```

–≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –æ–±—ã—á–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

1. `client_id`
   
   > –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Å–µ—Ä–≤–∏—Å–µ OAuth.
   > 
2. `redirect_uri`
   
   > URI, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —Å–ª–µ–¥—É–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –±—Ä–∞—É–∑–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∫–æ–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é. –≠—Ç–æ —Ç–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–Ω–æ –∫–∞–∫ ¬´callback URI¬ª –∏–ª–∏ ¬´callback endpoint¬ª. –ú–Ω–æ–≥–∏–µ –∞—Ç–∞–∫–∏ –Ω–∞ OAuth –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤ –≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.
   > 
3. `response_type`
   
   > –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–π —Ç–∏–ø –≥—Ä–∞–Ω—Ç–∞ –æ–∂–∏–¥–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –∫–∞–∫–æ–π –ø–æ—Ç–æ–∫ –æ–Ω–æ —Ö–æ—á–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å. –î–ª—è –≤—ã–¥–∞—á–∏ –≥—Ä–∞–Ω—Ç–∞ "Authorization code" –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `code`.¬†
   > 
4. `scope`
   
   > –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è, –∫ –∫–∞–∫–æ–º—É –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤—É –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–æ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ–±–ª–∞—Å—Ç–∏, –∑–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º OAuth, –∏–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π [[#2.1. OpenID Connect|OpenID Connect]].
   > 
5. `state`
   
   > –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ, –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–µ –∫ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –°–µ—Ä–≤–∏—Å OAuth –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —ç—Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –æ—Ç–≤–µ—Ç–µ –≤–º–µ—Å—Ç–µ —Å –∫–æ–¥–æ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –≠—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–ª—É–∂–∏—Ç —Ñ–æ—Ä–º–æ–π CSRF-—Ç–æ–∫–µ–Ω–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –∫ –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–µ `/callback` –∏—Å—Ö–æ–¥–∏—Ç –æ—Ç —Ç–æ–≥–æ –∂–µ —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–ª –ø–æ—Ç–æ–∫ OAuth.¬†

---

#### 2. –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–æ–≥–ª–∞—Å–∏–µ

–ö–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å, –æ–Ω –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞, –≥–¥–µ –µ–º—É –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –≤–æ–π—Ç–∏ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ OAuth. –ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ —á–∞—Å—Ç–æ –∏—Ö –∞–∫–∫–∞—É–Ω—Ç –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö.

–ó–∞—Ç–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –¥–∞–Ω–Ω—ã—Ö, –∫ –∫–æ—Ç–æ—Ä—ã–º –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø. –≠—Ç–æ –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `scope`, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º –≤ –∑–∞–ø—Ä–æ—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å, –¥–∞–≤–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ —ç—Ç–æ—Ç –¥–æ—Å—Ç—É–ø –∏–ª–∏ –Ω–µ—Ç.

–í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–¥–æ–±—Ä–∏–ª –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π `scope` –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —ç—Ç–æ—Ç —à–∞–≥ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Å—Ç–∞–ª–∞—Å—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è —Å–µ—Å—Å–∏—è —Å —Å–µ—Ä–≤–∏—Å–æ–º OAuth. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–±–æ—Ä–µ ¬´–í–æ–π—Ç–∏ —Å –ø–æ–º–æ—â—å—é —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π¬ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤–æ–π—Ç–∏ –≤—Ä—É—á–Ω—É—é –∏ –¥–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ, –Ω–æ –µ—Å–ª–∏ –ø–æ–∑–∂–µ –æ–Ω —Å–Ω–æ–≤–∞ –∑–∞–π–¥—ë—Ç –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –æ–Ω —á–∞—Å—Ç–æ —Å–º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º.

---

#### 3. –í—ã–¥–∞—á–∞ –∫–æ–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–∞—ë—Ç —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø, –µ–≥–æ –±—Ä–∞—É–∑–µ—Ä –±—É–¥–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É `/callback`, —É–∫–∞–∑–∞–Ω–Ω—É—é –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `redirect_uri` –∑–∞–ø—Ä–æ—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —ç—Ç–æ—Ç `GET` –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä `state` –º–æ–∂–µ—Ç —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è —Å —Ç–µ–º –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ–º, —á—Ç–æ –∏ –≤ –∑–∞–ø—Ä–æ—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.¬†

```http
GET /callback?code=a1b2c3d4e5f6g7h8&state=ae13d489bd00e3c24 HTTP/1.1 
Host: client-app.com
```

---

#### 4. –ó–∞–ø—Ä–æ—Å —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –µ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–º–µ–Ω—è—Ç—å –µ–≥–æ –Ω–∞ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞. –î–ª—è —ç—Ç–æ–≥–æ –æ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç server-to-server `POST` –∑–∞–ø—Ä–æ—Å –Ω–∞ –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É `/token` —Å–µ—Ä–≤–∏—Å–∞ OAuth. –í—Å—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∑–∞—â–∏—â—ë–Ω–Ω–æ–º –±—ç–∫-–∫–∞–Ω–∞–ª–µ –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –æ–±—ã—á–Ω–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ—á–µ–Ω–∞ –∏–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞–º–∏.¬†

```http
POST /token HTTP/1.1 
Host: oauth-authorization-server.com 
‚Ä¶ 
client_id=12345&client_secret=SECRET&redirect_uri=https://client-app.com/callback&grant_type=authorization_code&code=a1b2c3d4e5f6g7h8
```

–ü–æ–º–∏–º–æ `client_id` –∏ `code` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –≤—ã –∑–∞–º–µ—Ç–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:¬†

1. `client_secret`

> –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `client_secret` –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –≤–∫–ª—é—á–∏–≤ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –µ–º—É –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —Å–µ—Ä–≤–∏—Å–µ OAuth.
> 
2. `grant_type`

> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–æ–≤—ã–π –∫–æ–Ω–µ—á–Ω—ã–π —É–∑–µ–ª –∑–Ω–∞–ª, –∫–∞–∫–æ–π —Ç–∏–ø –≥—Ä–∞–Ω—Ç–∞ —Ö–æ—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ `grant_type` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ `authorization_code`.¬†

---

#### 5. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–∞

–°–µ—Ä–≤–∏—Å OAuth –ø—Ä–æ–≤–µ—Ä–∏—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞. –ï—Å–ª–∏ –≤—Å—ë —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º, —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—Ç–∏—Ç, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ —Å –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é –¥–µ–π—Å—Ç–≤–∏–π.

```json
{
	"access_token": "z0y9x8w7v6u5",
	"token_type": "Bearer",
	"expires_in": 3600,
	"scope": "openid profile",
	‚Ä¶
}
```

---

#### 6. –í—ã–∑–æ–≤ API

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç –∫–æ–¥ –¥–æ—Å—Ç—É–ø–∞, –æ–Ω–æ –Ω–∞–∫–æ–Ω–µ—Ü –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ—Å—É—Ä—Å–æ–≤. –î–ª—è —ç—Ç–æ–≥–æ –æ–Ω —Å–æ–≤–µ—Ä—à–∞–µ—Ç –≤—ã–∑–æ–≤ API –Ω–∞ –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É `/userinfo` —Å–µ—Ä–≤–∏—Å–∞ OAuth. –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –≤–≤–æ–¥–∏—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer`, —á—Ç–æ–±—ã –¥–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–∏–º –¥–∞–Ω–Ω—ã–º.¬†

```http
GET /userinfo HTTP/1.1 
Host: oauth-resource-server.com 
Authorization: Bearer z0y9x8w7v6u5
```

---

#### 7. –ì—Ä–∞–Ω—Ç —Ä–µ—Å—É—Ä—Å–æ–≤

–°–µ—Ä–≤–µ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω –∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–µ–∫—É—â–µ–º—É –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é. –ï—Å–ª–∏ –¥–∞, —Ç–æ –æ–Ω –æ—Ç–≤–µ—Ç–∏—Ç, –æ—Ç–ø—Ä–∞–≤–∏–≤ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å, —Ç–æ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏—Å—Ö–æ–¥—è –∏–∑ –æ–±—ä—ë–º–∞ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞.

```json
{
	"username":"carlos",
	"email":"carlos@carlos-montoya.net",
	‚Ä¶
}
```

–ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–∫–æ–Ω–µ—Ü –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é. –í —Å–ª—É—á–∞–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ OAuth –æ–Ω–∞ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥—è –≤ —Å–∏—Å—Ç–µ–º—É.

---

## –¢–∏–ø –≥—Ä–∞–Ω—Ç–∞: Implicit (–Ω–µ—è–≤–Ω—ã–π)

–ù–µ—è–≤–Ω—ã–π —Ç–∏–ø –≥—Ä–∞–Ω—Ç–∞ –≥–æ—Ä–∞–∑–¥–æ –ø—Ä–æ—â–µ. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∑–∞—Ç–µ–º –æ–±–º–µ–Ω—è—Ç—å –µ–≥–æ –Ω–∞ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞, –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–≥–ª–∞—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –∑–∞–¥–∞—ë—Ç–µ—Å—å –≤–æ–ø—Ä–æ—Å–æ–º, –ø–æ—á–µ–º—É –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–µ—è–≤–Ω—ã–π —Ç–∏–ø –≥—Ä–∞–Ω—Ç–∞. –û—Ç–≤–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç ‚Äî —ç—Ç–æ –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–µ—è–≤–Ω–æ–≥–æ –≥—Ä–∞–Ω—Ç–∞ –≤—Å—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ ‚Äî –Ω–µ—Ç –∑–∞—â–∏—â—ë–Ω–Ω–æ–≥–æ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞, –∫–∞–∫ –≤ –ø–æ—Ç–æ–∫–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–æ–ª–µ–µ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω—ã –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –∞—Ç–∞–∫–∞–º.

–ù–µ—è–≤–Ω—ã–π —Ç–∏–ø –≥—Ä–∞–Ω—Ç–∞ –±–æ–ª—å—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –Ω–∞—Å—Ç–æ–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–æ–≥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å `client_secret` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –Ω–µ –ø–æ–ª—É—á–∞—é—Ç –±–æ–ª—å—à–∏—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–∞ "Authorization code".¬†

![[OAuth_implicit_grant_type.png]]

---

#### 1. –ó–∞–ø—Ä–æ—Å –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

–ù–µ—è–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –ø–æ—Ç–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –≤ —Ç–æ–º, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä `response_type` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `token`.¬†

```http
GET /authorization?client_id=12345&redirect_uri=https://client-app.com/callback&response_type=token&scope=openid%20profile&state=ae13d489bd00e3c24 HTTP/1.1 
Host: oauth-authorization-server.com
```

---

#### 2. –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–æ–≥–ª–∞—Å–∏–µ

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É –∏ —Ä–µ—à–∞–µ—Ç, –¥–∞–≤–∞—Ç—å –ª–∏ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–ª–∏ –Ω–µ—Ç. –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ –∏ –¥–ª—è –ø–æ—Ç–æ–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.

---

#### 3. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–∞–µ—Ç —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø, –∑–¥–µ—Å—å –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Ä–∞–∑–ª–∏—á–∏—è. –°–µ—Ä–≤–∏—Å OAuth –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –±—Ä–∞—É–∑–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ `redirect_uri`, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é. –û–¥–Ω–∞–∫–æ –≤–º–µ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ query-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –æ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∏ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ —Ç–æ–∫–µ–Ω—É, –≤ –≤–∏–¥–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ URL.

```http
GET /callback#access_token=z0y9x8w7v6u5&token_type=Bearer&expires_in=5000&scope=openid%20profile&state=ae13d489bd00e3c24 HTTP/1.1 
Host: client-app.com
```

–ü–æ—Å–∫–æ–ª—å–∫—É —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –≤–∏–¥–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ URL, –æ–Ω –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –∏ –µ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.

---

#### 4. –í—ã–∑–æ–≤ API

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∏–∑–≤–ª–µ–∫–ª–æ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∏–∑ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ URL, –æ–Ω–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –≤—ã–∑–æ–≤–æ–≤ API –Ω–∞ –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É `/userinfo` —Å–µ—Ä–≤–∏—Å–∞ OAuth. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø–æ—Ç–æ–∫–∞ –∫–æ–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —ç—Ç–æ —Ç–∞–∫–∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä.¬†

```http
GET /userinfo HTTP/1.1 
Host: oauth-resource-server.com
Authorization: Bearer z0y9x8w7v6u5
```

---

#### 5. –ì—Ä–∞–Ω—Ç —Ä–µ—Å—É—Ä—Å–æ–≤

–°–µ—Ä–≤–µ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω –∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–µ–∫—É—â–µ–º—É –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é. –ï—Å–ª–∏ –¥–∞, —Ç–æ –æ–Ω –æ—Ç–≤–µ—Ç–∏—Ç, –æ—Ç–ø—Ä–∞–≤–∏–≤ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å, —Ç–æ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–µ `scope`, —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å —Ç–æ–∫–µ–Ω–æ–º –¥–æ—Å—Ç—É–ø–∞.

```json
{
	"username":"carlos",
	"email":"carlos@carlos-montoya.net"
}
```

–ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–∫–æ–Ω–µ—Ü –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é. –í —Å–ª—É—á–∞–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ OAuth –æ–Ω–∞ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥—è –≤ —Å–∏—Å—Ç–µ–º—É.

---

## OAuth –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–•–æ—Ç—è –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ OAuth –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–∞–ª—Å—è –¥–ª—è —ç—Ç–æ–π —Ü–µ–ª–∏, –æ–Ω —Ç–∞–∫–∂–µ –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª—Å—è –≤ —Å—Ä–µ–¥—Å—Ç–≤–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. 

–î–ª—è –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ OAuth –±–∞–∑–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏ OAuth –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏; –ì–ª–∞–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ ‚Äî –≤ —Ç–æ–º, –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∫–æ–Ω–µ—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ OAuth –≤ —Ü–µ–ª–æ–º –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –µ–¥–∏–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ (SSO) –Ω–∞ –æ—Å–Ω–æ–≤–µ SAML. 

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è OAuth –æ–±—ã—á–Ω–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ü–∏—é –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö. –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–∏—Å OAuth —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º –¥–∞–Ω–Ω—ã–º, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ –∏—Ö –∞–∫–∫–∞—É–Ω—Ç–µ.
2. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —É —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ—Å—É—Ä—Å–æ–≤, –æ–±—ã—á–Ω–æ —Å –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ `/userinfo`.¬†
3. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö –≤–º–µ—Å—Ç–æ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –≤—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è.

---

# 2.1. OpenID Connect

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ OAuth —Å –ø–æ–º–æ—â—å—é OpenID Connect.

>[!note] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:**¬†
>–≠—Ç–æ —Ç–æ–Ω–∫–∏–π, –Ω–æ¬†**–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π**¬†—Å–ª–æ–π –ø–æ–≤–µ—Ä—Ö OAuth 2.0, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å¬†**–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**. –ü–æ —Å—É—Ç–∏, –æ–Ω "–∑–∞–º—ã–∫–∞–µ—Ç" –ø—Ä–æ–±–µ–ª OAuth 2.0, –æ—Ç–≤–µ—á–∞—è –Ω–∞ –≤–æ–ø—Ä–æ—Å "–ö—Ç–æ —ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å?".

---

#### –ß—Ç–æ —Ç–∞–∫–æ–µ OpenID Connect?

**OpenID Connect** —Ä–∞—Å—à–∏—Ä—è–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª OAuth, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞–¥ –±–∞–∑–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π OAuth.

OpenID Connect —Ä–µ—à–∞–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ OAuth, –¥–æ–±–∞–≤–ª—è—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, —á—Ç–æ–±—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ OAuth —Ä–∞–±–æ—Ç–∞–ª–∞ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ –∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ.

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç OpenID Connect?

OpenID Connect –æ—Ä–≥–∞–Ω–∏—á–Ω–æ –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –æ–±—ã—á–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ OAuth. –° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –Ω–∞–ª–∏—á–∏–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ `scope`, –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ –¥–ª—è –≤—Å–µ—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤, –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ –æ—Ç–≤–µ—Ç–∞: `id_token` [[#ID-—Ç–æ–∫–µ–Ω]].

---

## –†–æ–ª–∏ OpenID Connect

>[!note] –†–æ–ª–∏ OpenID Connect
>
>–†–æ–ª–∏ OpenID Connect –ø–æ —Å—É—Ç–∏ —Ç–∞–∫–∏–µ –∂–µ, –∫–∞–∫ –∏ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º OAuth. –û—Å–Ω–æ–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–º–Ω–æ–≥–æ –¥—Ä—É–≥–∞—è —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è.
>
>- Relying party (–¥–æ–≤–µ—Ä—è—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞) - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–æ —Å–∏–Ω–æ–Ω–∏–º –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è OAuth.
>- End user - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ö–æ–¥–∏—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é. –≠—Ç–æ —Å–∏–Ω–æ–Ω–∏–º –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ä–µ—Å—É—Ä—Å–∞ OAuth (OAuth resource owner).
>- OpenID provider - —Å–ª—É–∂–±–∞ OAuth, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ OpenID Connect.

---

## –ó–∞—è–≤–∫–∏ (claims) –∏ –æ–±–ª–∞—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è OpenID Connect.

–¢–µ—Ä–º–∏–Ω ¬´–∑–∞—è–≤–∫–∏¬ª (claims) –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –ø–∞—Ä–∞–º `–∫–ª—é—á`:`–∑–Ω–∞—á–µ–Ω–∏–µ`, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Ä–µ—Å—É—Ä—Å–æ–≤. –û–¥–Ω–∏–º –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤ –∑–∞—è–≤–∫–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å `"family_name":"Montoya"`.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ OAuth, –æ–±–ª–∞—Å—Ç–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è—é—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞, –≤—Å–µ —Å–ª—É–∂–±—ã OpenID Connect –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π –Ω–∞–±–æ—Ä –æ–±–ª–∞—Å—Ç–µ–π. –ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OpenID Connect, –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ–±–ª–∞—Å—Ç—å openid –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é. –ó–∞—Ç–µ–º –æ–Ω–∏ –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥—Ä—É–≥–∏—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π –¥–µ–π—Å—Ç–≤–∏—è:
- profile
- email
- address
- phone

–ö–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö —Å–∫–æ—É–ø–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–æ—Å—Ç—É–ø—É –Ω–∞ —á—Ç–µ–Ω–∏–µ –¥–ª—è –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ "–∑–∞—è–≤–ª–µ–Ω–∏–π" (claims) –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ OpenID. –ù–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—Ä–æ—Å —Å–∫–æ—É–ø–∞ `openid profile` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ –∫ —Å–µ—Ä–∏–∏ "–∑–∞—è–≤–ª–µ–Ω–∏–π" (claims), —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–∞–∫–∏—Ö –∫–∞–∫ `family_name`, `given_name`, `birth_date` –∏ —Ç. –¥.

---

## ID-—Ç–æ–∫–µ–Ω

–î—Ä—É–≥–∏–º –≤–∞–∂–Ω—ã–º –Ω–æ–≤–æ–≤–≤–µ–¥–µ–Ω–∏–µ–º OpenID Connect —è–≤–ª—è–µ—Ç—Å—è —Ç–∏–ø –æ—Ç–≤–µ—Ç–∞ `id_token`. 

**–ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:**¬†–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–∞—ë—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ¬†**—Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ (Access Token)**, –Ω–æ –∏¬†**ID Token**. –≠—Ç–æ—Ç ID Token ‚Äî —ç—Ç–æ —Ç–æ–∫–µ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ JWT (JSON Web Token), –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç "—É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è" (claims) –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ: –µ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, email, –∏–º—è –∏ —Ç.–¥., –∞ —Ç–∞–∫–∂–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –∫–∞–∫ –∏ –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω —Å–ª—É–∂–±–æ–π OAuth. –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —á—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å, –±—ã–ª–∞ –ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å —ç—Ç–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –∏ –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω.

–û—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `id_token` —è–≤–ª—è–µ—Ç—Å—è —É–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏ —Å–ª—É–∂–±–æ–π OAuth, —á—Ç–æ –º–æ–∂–µ—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫—É—é –æ–±—â—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞, –∞ –∑–∞—Ç–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, ID-—Ç–æ–∫–µ–Ω, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–æ—Å—Ç–æ –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π (trusted) –∫–∞–Ω–∞–ª, –∫–∞–∫ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –±–∞–∑–æ–≤–æ–º OAuth, —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –≤ ID-—Ç–æ–∫–µ–Ω–µ, –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –ø–æ–¥–ø–∏—Å–∏ JWT. –ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ID-—Ç–æ–∫–µ–Ω–æ–≤ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –∑–∞—â–∏—Ç–∏—Ç—å –æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∞—Ç–∞–∫ —Ç–∏–ø–∞ ¬´—á–µ–ª–æ–≤–µ–∫ –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ¬ª. –û–¥–Ω–∞–∫–æ, —É—á–∏—Ç—ã–≤–∞—è, —á—Ç–æ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∫–ª—é—á–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ —Ç–æ–º—É –∂–µ —Å–µ—Ç–µ–≤–æ–º—É –∫–∞–Ω–∞–ª—É (–æ–±—ã—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ–º—É –ø–æ –∞–¥—Ä–µ—Å—É `/.well-known/jwks.json`), –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∞—Ç–∞–∫–∏ –≤—Å–µ –∂–µ –≤–æ–∑–º–æ–∂–Ω—ã.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ OAuth –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤, –ø–æ—ç—Ç–æ–º—É –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–ø–æ–ª–Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∫–∞–∫ —Å basic —Ç–∏–ø–æ–º –æ—Ç–≤–µ—Ç–∞ OAuth, —Ç–∞–∫ –∏ —Å —Ç–∏–ø–æ–º –æ—Ç–≤–µ—Ç–∞ `id_token` OpenID Connect:

- `response_type=id_token token`
- `response_type=id_token code`

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –∫–∞–∫ ID-—Ç–æ–∫–µ–Ω, —Ç–∞–∫ –∏ –∫–æ–¥ –∏–ª–∏ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞.

---

# –ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–ª–∏—á–∏—è

|–ê—Å–ø–µ–∫—Ç|SAML|OAuth 2.0|OpenID Connect (OIDC)|
|---|---|---|---|
|**–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å**|**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**¬†–∏ –ø–µ—Ä–µ–¥–∞—á–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤|**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**¬†(–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤)|**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**¬†–ø–æ–≤–µ—Ä—Ö OAuth 2.0|
|**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö**|XML|JSON (–∏ –¥—Ä—É–≥–∏–µ)|JSON (JWT)|
|**–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç**|–ß–∞—Å—Ç–æ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (POST-–±–∏–Ω–¥–∏–Ω–≥)|–õ—é–±–æ–π (–±—Ä–∞—É–∑–µ—Ä, API-–≤—ã–∑–æ–≤—ã)|–õ—é–±–æ–π (–±—Ä–∞—É–∑–µ—Ä, API-–≤—ã–∑–æ–≤—ã)|
|**–ö–ª—é—á–µ–≤–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç**|SAML Assertion (–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π XML)|Access Token (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ JWT)|**ID Token**¬†(–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π JWT) + Access Token|
|**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ API**|–°–ª–æ–∂–Ω–æ, –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω|**–ò–¥–µ–∞–ª—å–Ω–æ**|–ò–¥–µ–∞–ª—å–Ω–æ (—á–µ—Ä–µ–∑ Access Token)|
|**–ü—Ä–æ—Ñ–∏–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**|Enterprise SSO|–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è API, –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤|–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π SSO, –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è|

---
# –†–µ–∑—é–º–µ –¥–ª—è AppSec-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞

- **–í—ã–±–∏—Ä–∞–π—Ç–µ SAML**¬†–¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å legacy –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–æ—â–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∏ –µ—Å—Ç—å —É—Å—Ç–æ—è–≤—à–∞—è—Å—è XML-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞.
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ OAuth 2.0**, –∫–æ–≥–¥–∞ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ –∫ API –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞¬†_–æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_. –ü–æ–º–Ω–∏—Ç–µ: —ç—Ç–æ –Ω–µ –ø—Ä–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é.
- **–í—ã–±–∏—Ä–∞–π—Ç–µ OpenID Connect**¬†–¥–ª—è –ª—é–±—ã—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –≤—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (SSO –¥–ª—è –≤–µ–± –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π). –≠—Ç–æ –¥–µ-—Ñ–∞–∫—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ—à–∞–µ—Ç –∏ –ø—Ä–æ–±–ª–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∏ –¥–∞—ë—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ API.

–° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —Å–∞–º—ã–º–∏ —á–∞—Å—Ç—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤–æ –≤—Å–µ—Ö —ç—Ç–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–∞—Ö —è–≤–ª—è—é—Ç—Å—è –æ—à–∏–±–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–µ–π, –æ—Ç–∫—Ä—ã—Ç—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã, —É—Ç–µ—á–∫–∞ state-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ OAuth, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–≤–µ—Ä–∏—è –º–µ–∂–¥—É SP –∏ IdP. –ó–∞–¥–∞—á–∞ AppSec ‚Äî –Ω–µ —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª, –Ω–æ –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ —Ç—â–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥-—Ä–µ–≤—å—é –∏ –ø–µ–Ω—Ç–µ—Å—Ç –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.